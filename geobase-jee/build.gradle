buildscript {
    ext {
        thorntailVersion = '2.2.0.Final'
    }

    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'io.spring.gradle:dependency-management-plugin:1.0.6.RELEASE'
        classpath "io.thorntail:thorntail-gradle-plugin:$thorntailVersion"
    }
}

apply plugin: 'io.spring.dependency-management'
apply plugin: 'wildfly-swarm'
apply plugin: 'war'

ext {
    resteasyVersion = '3.5.0.Final'
}

dependencyManagement {
    imports {
        mavenBom "io.thorntail:bom-all:$thorntailVersion"
    }
}

repositories {
    maven {
        url 'https://maven.repository.redhat.com/nexus/content/repositories/thirdparty-releases/'
    }
}

dependencies {
    compile project(':geoquiz')

    compile 'io.thorntail:microprofile'
    compile 'io.thorntail:jpa'
    compile 'org.slf4j:slf4j-simple:1.7.25'

    integrationTestCompile ("io.thorntail:arquillian-adapter:$thorntailVersion") {
        exclude group: 'junit'
    }
    integrationTestCompile 'org.gradle:gradle-tooling-api:3.0'
    integrationTestCompile "org.jboss.resteasy:resteasy-client:$resteasyVersion"
    integrationTestCompile "org.jboss.resteasy:resteasy-jackson-provider:$resteasyVersion"
}

swarm {
    properties {
        swarm.http.port = 8181
        swarm.context.path = 'geobase'
    }
}
