<div class="row">
  <div class="col-md-6">

    <div class="card my-3">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">{{ 'admin.quizzes.configuration' | translate }}</h4>
      </div>
      <div class="card-body">
        <form (ngSubmit)="createQuiz()">
          <div class="form-group row">
            <label for="questionType" class="col-sm-3 col-form-label">{{ 'admin.quizzes.question-type' | translate }}</label>
            <div class="col-sm-9">
              <ng-select name="questionType" [items]="questionTypes" bindValue="type" [(ngModel)]="selectedQuestionType" [clearable]="false"
                [searchable]="false"></ng-select>
            </div>
          </div>
          <div class="form-check row">
            <div class="custom-control custom-checkbox offset-sm-3">
              <input class="custom-control-input" id="multipleChoice" type="checkbox" name="multipleChoice" [(ngModel)]="isMultipleChoice">
              <label class="custom-control-label" for="multipleChoice">{{ 'admin.quizzes.multiple-choice' | translate }}</label>
            </div>
          </div>
          <div class="form-group row">
            <div class="col">
              <button type="submit" class="btn btn-primary float-right">
                {{ 'admin.quizzes.play' | translate }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card my-3" *ngIf="question">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">{{ 'admin.quizzes.question' | translate:{number: index + 1} }}</h4>
      </div>
      <geo-secured-image *ngIf="question.imagePath" [src]="getImageURL(question.imagePath)" class="mx-auto my-2 d-block"></geo-secured-image>
      <div class="card-body">
        <h5 class="card-title">{{ question.wording }}</h5>
        <button type="button" class="btn btn-lg btn-block btn-outline-primary" *ngFor="let suggestion of question.suggestions" (click)="selectAnswer(suggestion)">{{ suggestion }}</button>
        <form (ngSubmit)="answer()" *ngIf="question.suggestions.length === 0">
          <div class="form-group row">
            <input type="text" class="form-control mx-3" id="answer" name="answer" [(ngModel)]="answerControl.value" placeholder="{{ 'admin.quizzes.enter-answer' | translate }}"
              [inputFocus]="shouldAnswer" [(ngModel)]="shouldAnswer">
          </div>
          <div class="form-group row">
            <div class="col">
              <button type="submit" class="btn btn-primary float-right">
                {{ 'admin.quizzes.next' | translate }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="card my-3" *ngIf="result">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">{{ 'admin.quizzes.result' | translate }}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">{{ result.nbOfCorrectAnswers }}/{{ result.nbOfQuestions }}</p>
      </div>
    </div>
  </div>
</div>
